# 中学数学基礎概念支援アプリ

## 📚 概要

算数障害（ディスカリキュリア）傾向でグラフ読解・基数性・量感把握が困難だが、言語理解力が高い女子高校生を主対象とした、中学数学の基礎概念を支援するWebアプリケーションです。

「数を言語と物語に翻訳する支援」により、中学数学の理解を促進し、基数性・概数・量感といった根本概念の再構築を目指します。

## 🎯 主な特徴

### 学習モジュール（全5モジュール完成）

1. **グラフの読解**（8ステップ）
   - グラフの種類識別
   - 表題、原点、軸、単位、目盛りの理解
   - 特徴的な値の発見
   - データの比較と言語化

2. **基数性の再構築**（5ステップ）
   - 数とまとまりの理解
   - 数の大きさ比較
   - 10のまとまりで考える
   - 数直線上の位置
   - 位の値（一の位、十の位）

3. **単位と量**（4ステップ）
   - 単位の必要性
   - 単位の換算
   - 単位を揃えて比較
   - 単位の計算（足し算・引き算）

4. **割合の直感**（2ステップ）
   - 割合の基本概念
   - 「1あたり」で考える方法

5. **概数・おおよその判断**（2ステップ）
   - 概数の考え方
   - 四捨五入による概数作成

### 学習支援機能

- **スモールステップ学習**: 各ステップは1画面1概念で構成
- **理解確認システム**: 説明を読んだ後にチェックボックスで確認
- **練習問題**: 各ステップに理解度を確認する問題
- **即時フィードバック**: 正解・不正解を即座に表示し、解説を提供
- **無制限リトライ**: 間違えても何度でも挑戦可能、減点なし

### ゲーミフィケーション要素

- **進捗管理システム**: 各ステップの完了状況を記録
- **達成ログ**: ステップ完了で10ポイント、モジュール完了で50ポイント
- **アフリカ都市カード**: 学習達成でアフリカの都市カードをアンロック
  - ナイロビ、ラゴス、カイロ、キガリなど
  - 各カードには都市の写真、人口、特徴を掲載

### その他の機能

- **用語集**: 学習した用語を検索可能な一覧で表示
- **達成記録ページ**: 獲得ポイントと達成履歴を確認
- **カードコレクション**: アンロックしたアフリカ都市カードを閲覧

## 🏗️ 技術スタック

- **フロントエンド**: HTML, Tailwind CSS, Vanilla JavaScript, Axios
- **バックエンド**: Hono (TypeScript Web Framework)
- **デプロイ**: Cloudflare Pages/Workers
- **データベース**: Cloudflare D1 (SQLite)
- **開発ツール**: Vite, PM2, TypeScript

## 📊 データ構造

### 主要テーブル

1. **user_progress**: ユーザーの学習進捗
2. **answer_history**: 解答履歴と正解率
3. **achievement_log**: 達成記録とポイント
4. **africa_cards**: アフリカ都市カード情報
5. **glossary**: 用語集データ

## 🌐 アクセス URL

**開発環境**: https://3000-i6ktus6p7ehk606d96lyk-583b4d74.sandbox.novita.ai

### 主要ページ

- ホーム: `/`
- グラフの読解: `/module/graph_basics`
- 基数性の再構築: `/module/cardinality`
- 単位と量: `/module/units`
- 割合の直感: `/module/proportions`
- 概数・おおよその判断: `/module/approximation`
- 用語集: `/glossary`
- カードコレクション: `/cards`
- 達成記録: `/achievements`

## 🎨 教育設計の特徴

### スモールステップアプローチ

- 1画面1概念の徹底
- 視覚的サポート（ハイライト、色分け、アイコン）
- 文脈の活用（アフリカの国々を題材）
- 安心感の提供（不正解でも減点なし、無制限リトライ）

### 言語理解力を活用

- 数を言語で説明
- 因果関係を明示
- 物語的な文脈で提示
- 具体例を豊富に使用

## 📦 ローカル開発

### セットアップ

```bash
# 依存関係インストール
npm install

# データベースマイグレーション（ローカル）
npm run db:migrate:local

# テストデータ投入
npm run db:seed

# ビルド
npm run build

# 開発サーバー起動（PM2）
pm2 start ecosystem.config.cjs

# サーバー確認
curl http://localhost:3000
```

### 開発コマンド

```bash
npm run dev          # Vite開発サーバー
npm run build        # プロダクションビルド
npm run preview      # ビルド結果のプレビュー
npm run deploy       # Cloudflare Pagesへデプロイ

# データベース操作
npm run db:migrate:local   # ローカルDBマイグレーション
npm run db:migrate:prod    # 本番DBマイグレーション
npm run db:seed            # テストデータ投入
npm run db:reset           # DBリセット＆再構築
npm run db:console:local   # ローカルDBコンソール
npm run db:console:prod    # 本番DBコンソール
```

## 🚀 デプロイメント

### Cloudflare Pages

```bash
# ビルド
npm run build

# デプロイ
npm run deploy
```

**本番URL**: （デプロイ後に設定）

## 📝 今後の拡張予定

- 復習問題ページ（各モジュールの総復習）
- 中学1年生内容（正の数・負の数、文字式）
- プログレスバーの可視化
- ユーザー認証機能
- モバイル対応の最適化

## 🎯 対象ユーザー

- 算数障害（ディスカリキュリア）傾向のある学習者
- グラフ読解・基数性・量感把握に困難を感じる方
- 言語理解力を活かして数学を学びたい方
- 中学数学の基礎を固めたい方

## 📄 ライセンス

このプロジェクトは教育目的で開発されています。

## 👥 貢献

バグ報告や機能要望は Issue でお知らせください。

---

**最終更新**: 2026-01-26
**バージョン**: 1.0.0
**ステータス**: ✅ フェーズ0完了（全5モジュール実装済み）
