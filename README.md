# 学習アプリ開発プラットフォーム

## 📚 概要

ノーコードで学習アプリを作成できる開発プラットフォームです。フェーズ、モジュール、ステップを自由に組み合わせて、独自の学習コンテンツを作成できます。

## 🎯 主な特徴

### ノーコード開発
- プログラミング知識不要で学習アプリを作成
- ビジュアルエディタでコンテンツを構築
- ドラッグ＆ドロップでステップを配置

### 柔軟な構造
- **フェーズ**: 学習の大きな区分（例：基礎編、応用編）
- **モジュール**: 学習単元（例：グラフの読解、基数性の理解）
- **ステップ**: 具体的な学習コンテンツ（1ステップ1概念）

### リッチなコンテンツ
- テキスト、画像、HTML による説明
- インタラクティブ要素（グラフ、図形、表）
- 選択式・記述式・インタラクティブ問題

### 管理機能
- フェーズ・モジュール・ステップの作成・編集・削除
- 表示順序の管理
- コンテンツのプレビュー

## 🌐 アクセス URL

**開発環境**: https://3000-i6ktus6p7ehk606d96lyk-583b4d74.sandbox.novita.ai

### 主要ページ

#### プラットフォーム管理
- ホーム: `/`
- 管理画面: `/admin`
- フェーズ管理: `/admin/phases`
- モジュール管理: `/admin/modules`
- ステップ管理: `/admin/steps`
- ノーコードエディタ: `/static/nocode-editor.html`

#### デモアプリ（数学学習アプリ）
- デモホーム: `/demo`
- グラフの読解: `/module/graph_basics` (15ステップ)
- 基数性の再構築: `/module/cardinality` (12ステップ)
- 単位と量: `/module/units` (10ステップ)
- 割合の直感: `/module/proportions` (10ステップ)
- 概数・おおよその判断: `/module/approximation` (8ステップ)
- 公式集: `/module/formulas` (5ステップ)
- 正の数・負の数: `/module/integers` (5ステップ)

#### その他のページ
- 用語集: `/glossary`
- カードコレクション: `/cards`
- 達成記録: `/achievements`

## 🏗️ 技術スタック

- **フロントエンド**: HTML, Tailwind CSS, Vanilla JavaScript, Axios
- **バックエンド**: Hono (TypeScript Web Framework)
- **デプロイ**: Cloudflare Pages/Workers
- **データベース**: Cloudflare D1 (SQLite)
- **開発ツール**: Vite, PM2, TypeScript

## 📊 データ構造

### 主要テーブル

#### プラットフォーム基盤
1. **phases**: フェーズ（学習の大きな区分）
2. **modules**: モジュール（学習単元）
3. **steps**: ステップ（学習ステップ）
4. **content_blocks**: コンテンツブロック（ステップ内の要素）
5. **questions**: 問題（ステップに関連する問題）
6. **question_options**: 選択肢（選択式問題の選択肢）
7. **interactive_elements**: インタラクティブ要素（図形、グラフなど）

#### デモアプリ用
1. **user_progress**: ユーザーの学習進捗
2. **answer_history**: 解答履歴と正解率
3. **achievement_log**: 達成記録とポイント
4. **africa_cards**: アフリカ都市カード情報
5. **glossary**: 用語集データ

## 🎨 コンテンツ作成フロー

### 1. フェーズ作成
1. `/admin/phases` にアクセス
2. 「新しいフェーズを作成」フォームに入力
   - フェーズ名（例：基礎概念の理解）
   - 説明（学習の目的や内容）
   - 表示順序
3. 「フェーズを作成」ボタンをクリック

### 2. モジュール作成
1. `/admin/modules` にアクセス
2. フェーズを選択
3. 「新しいモジュールを作成」フォームに入力
   - モジュール名（例：グラフの読解）
   - アイコン（絵文字）
   - 説明
   - カラー
   - 表示順序
4. 「モジュールを作成」ボタンをクリック

### 3. ステップ作成
1. `/admin/steps` にアクセス
2. フェーズとモジュールを選択
3. 「新しいステップを作成」フォームに入力
   - ステップタイトル（例：グラフの種類を知ろう）
   - 説明文
   - 表示順序
4. 「ステップを作成」ボタンをクリック

### 4. コンテンツ追加
- ノーコードエディタ（実装予定）
- コンテンツブロックAPI経由で追加

## 📦 ローカル開発

### セットアップ

```bash
# 依存関係インストール
npm install

# データベースマイグレーション（ローカル）
npm run db:migrate:local

# テストデータ投入
npx wrangler d1 execute webapp-production --local --file=./test_data.sql

# ビルド
npm run build

# 開発サーバー起動（PM2）
pm2 start ecosystem.config.cjs

# サーバー確認
curl http://localhost:3000
```

### 開発コマンド

```bash
npm run dev          # Vite開発サーバー
npm run build        # プロダクションビルド
npm run preview      # ビルド結果のプレビュー
npm run deploy       # Cloudflare Pagesへデプロイ

# データベース操作
npm run db:migrate:local   # ローカルDBマイグレーション
npm run db:migrate:prod    # 本番DBマイグレーション
npm run db:reset           # DBリセット＆再構築
npm run db:console:local   # ローカルDBコンソール
npm run db:console:prod    # 本番DBコンソール
```

## 🚀 デプロイメント

### Cloudflare Pages

```bash
# ビルド
npm run build

# デプロイ
npm run deploy
```

**本番URL**: （デプロイ後に設定）

## 📝 今後の拡張予定

### 高優先度
- ノーコードエディタのJavaScript実装完成
- コンテンツブロック編集UI
- 問題作成UI（選択式、記述式）
- プレビュー機能

### 中優先度
- インタラクティブ要素作成（グラフ、図形、表）
- ステップ・モジュールの編集・削除機能
- ユーザー認証機能
- 複数プロジェクト管理

### 低優先度
- テンプレート機能
- コンテンツのインポート・エクスポート
- 学習分析ダッシュボード
- モバイルアプリ対応

## 🎯 対象ユーザー

- 教育コンテンツを作成したい教育者
- プログラミング不要で学習アプリを作りたい方
- カスタマイズ可能な学習プラットフォームを求める方
- スモールステップ学習を実現したい方

## 📄 ライセンス

このプロジェクトは教育目的で開発されています。

## 👥 貢献

バグ報告や機能要望は Issue でお知らせください。

---

**最終更新**: 2026-01-26
**バージョン**: 2.0.0
**ステータス**: ✅ アルファ版（基本機能実装完了）
